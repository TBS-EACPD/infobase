# Text fragments used in popup top-rows
provides:
  en: provides
  fr: fournit un financement de 
in_funding:
  en: in funding
  fr: ""

has_allocated:
  en: has allocated
  fr: TODO
in_funds:
  en: in funds
  fr: ""
  
has_had_withheld:
  en: has had
  fr: TODO
withheld_of_the_funding:
  en: centrally withheld of the funding
  fr: TODO

single_word_has:
  en: has
  fr: TODO
remaining_in_funding:
  en: remaining in funding
  fr: TODO

# Single words used in popup tables and other places
single_word_for:
  en: For
  fr: Pour
single_word_to:
  en: To
  fr: Ã€
single_word_in:
  en: In
  fr: En
single_word_in_lowercase:
  en: in
  fr: en
single_word_under:
  en: Under
  fr: TODO

# Text fragments used in root text and popups 
in_funding_for:
  en: in funding for
  fr: fournit pour
allocated_to:
  en: allocated to
  fr: TODO
caps_allocated_to:
  en: Allocated to
  fr: TODO
withheld_from:
  en: centrally withheld from
  fr: TODO
remaining_for:
  en: remaining for
  fr: TODO
as_of:
  en: As of
  fr: TODO

# Misc
lang_formated_zero:
  en: $0
  fr: 0$
tb_approved_funds:
  en: TB approved funds
  fr: TODO
program_allocations:
  en: Program Allocations
  fr: TODO

see_it_in_the_budget:
  en: See it in the Budget
  fr: Allez le voir dans le budget

submeasures_table_title:
  en: Breakdown by Submeasure
  fr: TODO

budget_measure_submeasure_note:
  en: TODO explain submeasures, how they are specific to a measure and organization and only have allocated and withheld values
  fr: TODO

budget_sourced_date_note:
  transform: [handlebars]
  text: |
    ({{gt "as_of"}} {{gt "budget_data_sourced_date"}})

budget_measures_partition_root:
  transform: [handlebars]
  text: |
    {{gt "budget_name_header"}}:
    <p class='amount'>
      {{rawfmt_compact1 root_value}}
    </p>
    {{selected_value_specifier}}
    <span class='text-nowrap'>
      {{displayed_measure_count}}
    </span>
    {{gt "budget_measures"}}
    {{gt "single_word_in_lowercase"}} 
    {{gt "budget_route_year"}}
    </br>
    </br>
    {{additional_root_note}}

budget_measure_popup_top_line_value:
  handlebars_partial: true
  text: |
    <span class='popup-font-ml'>
    {{#if value_is_zero}}
      {{gt "lang_formated_zero"}}
    {{else}}
      {{#if value_is_negative}}
        <text style='color:red;'>
          {{fmt_compact1 value}}
        </text>
      {{else}}
        {{fmt_compact1 value}}
      {{/if}}
    {{/if}}
    </span>

budget_measure_popup_funding_top_line:
  handlebars_partial: true
  text: |
    <text style='color:#fdfdfd'>
      {{gt "budget_name"}}
      </br>
      {{gt "provides"}}
    </text>
    {{> budget_measure_popup_top_line_value}}
    <text style='color:#fdfdfd'>
      {{gt "in_funding"}} ...
    </text>

budget_measure_popup_allocated_top_line:
  handlebars_partial: true
  text: |
    <text style='color:#fdfdfd'>
      {{gt "budget_name"}}
      </br>
      {{gt "has_allocated"}}
    </text>
    {{> budget_measure_popup_top_line_value}}
    <text style='color:#fdfdfd'>
      {{gt "in_funds"}} ...
    </text>

budget_measure_popup_withheld_top_line:
  handlebars_partial: true
  text: |
    <text style='color:#fdfdfd'>
      {{gt "budget_name"}}
      </br>
      {{gt "has_had_withheld"}}
    </text>
    {{> budget_measure_popup_top_line_value}}
    <text style='color:#fdfdfd'>
      {{gt "withheld_of_the_funding"}} ...
    </text>

budget_measure_popup_remaining_top_line:
  handlebars_partial: true
  text: |
    <text style='color:#fdfdfd'>
      {{gt "budget_name"}}
      </br>
      {{gt "single_word_has"}}
    </text>
    {{> budget_measure_popup_top_line_value}}
    <text style='color:#fdfdfd'>
      {{gt "remaining_in_funding"}} ...
    </text>

budget_measure_popup_top_line_cases:
  handlebars_partial: true
  text: |
    <span class='stat1 popup-font-m'>
      {{#if selected_value_is_funding}}
        {{> budget_measure_popup_funding_top_line}}
      {{/if}}
      {{#if selected_value_is_allocated}}
        {{> budget_measure_popup_allocated_top_line}}
      {{/if}}
      {{#if selected_value_is_withheld}}
        {{> budget_measure_popup_withheld_top_line}}
      {{/if}}
      {{#if selected_value_is_remaining}}
        {{> budget_measure_popup_remaining_top_line}}
      {{/if}}
    </span>

budget_measure_popup_dept_line:
  handlebars_partial: true
  text: |
    <div class="budget-measure-popup-name-row popup-font-m">
      <span class='name-row-left' style='color:#fdfdfd'>
      {{#if is_program}}
          {{gt "single_word_under"}}
        {{else}}
          {{gt "single_word_to"}}
        {{/if}}
      </span>
      <span class='name-row-right'>
        {{dept_name}}
      </span>
    </div>

budget_measure_popup_measure_line:
  handlebars_partial: true
  text: |
    <div class="budget-measure-popup-name-row popup-font-m">
      <span class='name-row-left' style='color:#fdfdfd'>
        {{gt "single_word_for"}}
      </span>
      <span class='name-row-right'>
        {{measure_name}}
      </span>
    </div>

budget_measure_popup_program_lines:
  handlebars_partial: true
  text: |
    <div class="budget-measure-popup-name-row popup-font-m">
      <span class='name-row-left' style='color:#fdfdfd'>
        {{gt "single_word_to"}}
      </span>
      <span class='name-row-right'>
        {{program_name}}
      </span>
    </div>
    {{> budget_measure_popup_dept_line}}
    {{> budget_measure_popup_measure_line}}

budget_measure_popup_year_line:
  handlebars_partial: true
  text: |
    <div class="budget-measure-popup-name-row popup-font-m">
      <span class='name-row-left' style='color:#fdfdfd'>
        {{gt "single_word_in"}}
      </span>
      <span class='name-row-right'>
        {{year}}
      </span>
    </div>

budget_measure_popup_sourced_date_line:
  handlebars_partial: true
  text: |
    <div class="budget-measure-popup-name-row popup-font-m">
      <span class='name-row-left' style='color:#fdfdfd'>
        {{gt "as_of"}}
      </span>
      <span class='name-row-right'>
        {{gt "budget_data_sourced_date"}}
      </span>
    </div>

budget_measure_popup_bottom_rows:
  handlebars_partial: true
  text: |
    {{#if is_budget_measure}}
      <div class='mrgn-bttm-sm popup-row-top-border popup-font-m'>
        <text style='color:#fdfdfd'> {{gt "budget_chapter"}}: </text> {{chapter}}
      </div>
    {{/if}}
    {{#if description}}
      <div class='popup-font-ml popup-row-top-border'>
        {{gt "description"}}:
      </div>
      <div class='popup-row-bottom-border popup-decription-text' style='min-height:20px;'>
        {{{description}}}
      </div>
    {{/if}}
    {{#if submeasures}}
      <div class='popup-font-ml'>
        {{gt "submeasures_table_title"}}:
      </div>
      <div class='popup-decription-text popup-row-bottom-border' style='max-height:200px; padding-bottom:3px;'>
        {{#each submeasures}}
          <div class='budget-measure-popup-name-row'>
            <span class='name-row-left' style='color:#fdfdfd; padding:6px 0px 6px 0px;'>
              {{fmt_compact1 this.value}}
            </span>
            <span class='name-row-right' style='padding:6px 0px 6px 0px;'>
              {{this.name}}
            </span>
          </div>
        {{/each}}
      </div>
    {{/if}}
    {{#if notes}}
      <div class='popup-font-ml'>
        {{gt "notes"}}:
      </div>
      <ul class='mrgn-bttm-sm popup-row-bottom-border popup-decription-text' style='min-height:40px;'>
        {{#each notes}}
          <li>{{{this}}}</li>
        {{/each}}
      </ul>
    {{/if}}
    {{#if budget_link}}
      <a href='{{budget_link}}' 
        class='btn btn-xs btn-block mrgn-bttm-sm partition-link-out' 
        style='background-color:{{color}};'>
        {{gt "see_it_in_the_budget"}}
      </a>
    {{/if}}
    {{#if has_infographic}}
      <a href='#orgs/{{level}}/{{id}}/infograph/financial' 
        class='btn btn-xs btn-block mrgn-bttm-sm partition-link-out' 
        style='background-color:{{color}};'>
        {{gt "see_the_infographic"}}
      </a>
    {{/if}}
    {{#if is_first_column}} 
      <a href='#' 
        class='btn btn-xs btn-block mrgn-bttm-sm magnify'  
        style='background-color:{{color}};'>
        {{focus_text}}
      </a> 
    {{/if}}

budget_measure_popup_template:
  transform: [handlebars]
  text: |
    <div class='mrgn-bttm-md popup-row-top popup-font-m'>
      {{> budget_measure_popup_top_line_cases}}
      {{#if is_program}}
        {{> budget_measure_popup_program_lines}}
      {{else}}
        {{#if dept_is_first_column}}
          {{#if is_budget_measure}}
            {{> budget_measure_popup_measure_line}}
          {{/if}}
          {{> budget_measure_popup_dept_line}}
        {{else}}
          {{#if is_dept}}
            {{> budget_measure_popup_dept_line}}
          {{/if}}
          {{> budget_measure_popup_measure_line}}
        {{/if}}
      {{/if}}
      {{> budget_measure_popup_year_line}}
      {{#if show_sourced_date}}
        {{> budget_measure_popup_sourced_date_line}}
      {{/if}}
    </div>
    {{> budget_measure_popup_bottom_rows}}
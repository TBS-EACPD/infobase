/**
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * @title Table Parser Plugin
 * @overview Digest complex tabular data and validate complex table
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * @author @duboisp
 *
 */
!function(a,b,c,d){"use strict";var e="wb-tableparser",f="."+e,g="error"+f,h="warning"+f,i=d.doc,j=function(b){function c(b){u.colcaption.elem=b,u.rowcaption.elem=b;var c,d,e={colcaption:u.colcaption,rowcaption:u.rowcaption,elem:b},f=[];0!==a(b).children().length?(a(b).contents().filter(function(){if(c||3!==this.nodeType){if(!c&&1===this.nodeType)return void(c=this)}else{if(c=a(this).text().replace(/^\s+|\s+$/g,""),0!==c.length)return c=this,void(d=!0);c=!1}}),a(b).children().filter(function(){d?f.push(this):d=!0})):c=b,f.length>1?e.description=a(f):1===f.length&&(e.description=f[0]),c&&(e.caption=c),e.groupZero=u,e.type=1,u.groupheadercell=e,a(b).data().tblparser=e}function d(b,c){var d,e,f,h,i={elem:{},start:0,end:0,col:[],groupZero:u},j=0;if(i.elem=b,b&&(a(b).data().tblparser=i),i.uid=x,x+=1,u.allParserObj.push(i),0!==v.length?i.start=v[v.length-1].end+1:i.start=1,b&&a("col",b).each(function(){var b=a(this),c=void 0!==b.attr("span")?parseInt(b.attr("span"),10):1,d={elem:{},start:0,end:0,groupZero:u};d.uid=x,x+=1,u.allParserObj.push(d),d.start=i.start+j,d.end=i.start+j+c-1,d.elem=this,d.groupZero=u,b.data().tblparser=d,i.col.push(d),w.push(d),j+=c}),0===i.col.length){if(b)d=void 0!==a(b).attr("span")?parseInt(a(b).attr("span"),10):1;else{if("number"!=typeof c)return void t.trigger({type:g,pointer:t,err:31});d=c}for(j+=d,e=i.start,f=i.start+j;e!==f;e+=1)h={start:0,end:0,groupZero:u,elem:void 0},h.uid=x,x+=1,u.allParserObj.push(h),h.start=e,h.end=e,i.col.push(h),w.push(h)}i.end=i.start+j-1,v.push(i)}function i(b){var c,d,e,f,i,j,k,l,m,n,o,p,q,r,s,y,z,A,C,E,F,G,I=[];if(!u.colgrouphead&&!H){for(H=!0,b&&b>0?v.length>0&&(1!==v[0].start||v[0].end!==b&&v[0].end!==b+1)&&(t.trigger({type:h,pointer:t,err:3}),v=[]):b=0,c=0,d=D.length;c!==d;c+=1)for(G=D[c],G.type||(G.type=1),e=0,f=G.cell.length;e<f&&(E=D[c].cell[e],E.scope="col",!(0===c&&0===e&&0===E.elem.innerHTML.length&&(E.type=6,u.layoutCell||(u.layoutCell=[]),u.layoutCell.push(E),e=E.width-1,e>=f)))&&(A=D[c+1],C=A?A.cell[e]:"",E.descCell||"th"!==E.elem.nodeName.toLowerCase()||E.type||!A||A.uid===E.uid||!C||C.type||"td"!==C.elem.nodeName.toLowerCase()||C.width!==E.width||1!==C.height||(A.type=5,C.type=5,C.row=G,E.descCell=C,u.desccell||(u.desccell=[]),u.desccell.push(C),e=E.width-1,!(e>=f)));e+=1)E.type||(E.type=1);for(c=0,d=D.length;c!==d;c+=1)if(G=D[c],5===G.type){for(e=0,f=G.cell.length;e!==f;e+=1)E=G.cell[e],5!==E.type&&6!==E.type&&1===E.height&&t.trigger({type:h,pointer:E.elem,err:4}),E.uid===D[c-1].cell[e].uid&&(E.height-=1);u.nbDescriptionRow+=1}else I.push(G);if(u.colgrp=[],b>0&&(1===v.length||0===v.length)){for(m={},n=[],o={start:b+1,end:B,col:[],groupZero:u,elem:void 0,type:2},o.uid=x,x+=1,u.allParserObj.push(o),o.start>o.end&&t.trigger({type:h,pointer:t,err:5}),m=o,c=o.start,d=o.end;c<=d;c+=1)p={start:0,end:0,groupZero:u,elem:void 0},p.uid=x,x+=1,u.allParserObj.push(p),u.col||(u.col=[]),n.push(p),p.start=c,p.end=c,p.groupstruct=o,o.col.push(p),w.push(p);if(u.colgrp[1]=[],u.colgrp[1].push(u.colcaption),b>0){for(q={start:1,elem:void 0,end:b,col:[],groupZero:u,type:1},q.uid=x,x+=1,u.allParserObj.push(q),v.push(q),v.push(m),u.colcaption.dataset=m.col,c=q.start,d=q.end;c<=d;c+=1)p={start:0,end:0,groupZero:u,elem:void 0},p.uid=x,x+=1,u.allParserObj.push(p),u.col||(u.col=[]),u.col.push(p),p.start=c,p.end=c,p.groupstruct=q,q.col.push(p),w.push(p);for(c=0,d=n.length;c!==d;c+=1)u.col.push(n[c])}for(0===v.length&&(v.push(m),u.colcaption.dataset=m.col),c=0,d=u.col.length;c!==d;c+=1)for(F=u.col[c],F.header=[],e=0,f=I.length;e!==f;e+=1)for(i=F.start,j=F.end;i<=j;i+=1)E=I[e].cell[i-1],(0===e||e>0&&E.uid!==I[e-1].cell[i-1].uid)&&1===E.type&&F.header.push(E)}else r=0===b?1:v[0].end+1,o={start:r,end:void 0,col:[],row:[],type:2},s=[],y=0,z=!1,a.each(v,function(){var m,n,o,p,q=this;if(y+=1,z||u.colgrp[0])return void t.trigger({type:g,pointer:q,err:6});if(a.each(q.col,function(){var a=this;u.col||(u.col=[]),u.col.push(a),a.type=1,a.groupstruct=q}),q.start<r)for(b!==q.end&&t.trigger({type:h,pointer:q,err:7}),c=0,d=q.col.length;c!==d;c+=1)for(F=q.col[c],F.header=[],e=0,f=I.length;e!==f;e+=1)for(i=F.start,j=F.end;i<=j;i+=1)(0===e||e>0&&I[e].cell[i-1].uid!==I[e-1].cell[i-1].uid)&&1===I[e].cell[i-1].type&&F.header.push(I[e].cell[i-1]);else{for(m=void 0,c=0,d=I.length;c!==d;c+=1){if(l=I[c].cell[q.end-1],!l&&q.end>I[c].cell.length){t.trigger({type:h,pointer:t,err:3});break}l.colpos+l.width-1===q.end&&l.colpos>=q.start&&(!m||m>c+1)&&(m=c+1)}for(m||(m=1),c=m-1,d=I.length;c!==d;c+=1)for(k=I[c],e=q.start-1,f=q.end;e!==f;e+=1)if(l=k.cell[e],l.colpos<q.start||l.colpos+l.width-1>q.end)return void t.trigger({type:g,pointer:t,err:9});for(c=s.length,d=m-1;c!==d;c+=1){if(l=I[c].cell[q.start-1],l.uid!==I[c].cell[q.end-1].uid||l.colpos>q.start||l.colpos+l.width-1<q.end)return void t.trigger({type:g,pointer:t,err:10});n=l,n.level=c+1,n.start=n.colpos,n.end=n.colpos+n.width-1,n.type=7,s.push(n),u.virtualColgroup||(u.virtualColgroup=[]),u.virtualColgroup.push(n),u.colgrp[c+1]||(u.colgrp[c+1]=[]),u.colgrp[c+1].push(n)}for(q.header=[],c=m-(m>=2?2:1),d=I.length;c!==d;c+=1)for(e=q.start;e<=q.end;e+=1)I[c].cell[e-1].rowpos===c+1&&(q.header.push(I[c].cell[e-1]),I[c].cell[e-1].colgroup=q),e+=I[c].cell[e-1].width-1;for(o=[],c=0;c<s.length-1;c+=1)o.push(s[c]);for(q.parentHeader=o,s.length<m&&(q.type||(q.type=2,q.level=m),s.push(q),u.colgrp[m]||(u.colgrp[m]=[]),u.colgrp[m].push(q)),p=!1,c=s.length-1;c!==-1;c-=1)s[c].end<=q.end&&(s[c].level<m&&D.length>0&&(q.type=3),3!==q.type||p||(s[s.length-1].summary=q,p=!0),s.pop());if(K||(q.type=2),1===m&&u.colgrp[1]&&u.colgrp[1].length>1&&D.length>0){for(c=0;c<u.colgrp[1].length;c+=1)if(3===u.colgrp[1][c].type){q.level=0,u.colgrp[0]||(u.colgrp[0]=[]),u.colgrp[0].push(q),u.colgrp[1].pop(),z=!0;break}K&&(q.type=3)}1===q.level&&2===q.type&&(q.repheader="caption"),u.col||(u.col=[]),a.each(q.col,function(){var a,b,d,f,g=this,h=g.start,i=g.end;for(g.type=q.type,g.level=q.level,g.groupstruct=q,g.header=[],e=m-1;e<I.length;e+=1)for(c=q.start-1;c<q.end;c+=1)d=I[e].cell[c],a=d.colpos,b=d.width-1,(a>=h&&a<=i||a<=h&&a+b>=i||a+b<=h&&a+b>=i)&&(f=g.header.length,(0===f||f>0&&g.header[f-1].uid!==d.uid)&&(g.header.push(d),I[e].cell[c].level=q.level))})}}),u.virtualColgroup||(u.virtualColgroup=[]),a.each(u.virtualColgroup,function(){var a=this;for(c=a.start-1;c<a.end;c+=1)u.col[c].headerLevel||(u.col[c].headerLevel=[]),u.col[c].headerLevel.push(a)});v.length>0&&b>0&&(u.colgrouphead=v[0],u.colgrouphead.type=1)}}function j(){p.type&&p.level||l(),G.push(p),p={}}function k(){p&&p.type&&j(),p={},p.elem=q,p.row=[],p.headerlevel=[],p.groupZero=u,p.uid=x,x+=1}function l(a){var b,c,d,e;if(J)return p.type=3,p.level=0,void(F=[]);if(0!==F.length)for(p&&p.type&&p.row.length>0&&(q={},k()),p.type=2,p.row=F,b=0,c=F.length;b!==c;b+=1)F[b].cell[0].type=7,F[b].cell[0].scope="row",F[b].cell[0].row=F[b],p.headerlevel.push(F[b].cell[0]);if(0===F.length&&0===G.length&&(p.type&&1===p.type&&(q={},k()),p.type=2,p.level=1),0===F.length&&G.length>0&&!p.type&&v[0]&&(1===v[0].type||!v[0].type&&v.length>0)&&!a?p.type=3:p.type=2,3!==p.type||K||(p.type=2,p.level=G[G.length-1].level),!p.level)if(G.length>0)if(d=G[G.length-1],2===p.type)if(p.headerlevel.length===d.headerlevel.length)p.level=d.level;else if(p.headerlevel.length<d.headerlevel.length){for(e=p.headerlevel,p.headerlevel=[],b=0;b<d.headerlevel.length-p.headerlevel.length;b+=1)p.headerlevel.push(d.headerlevel[b]);for(b=0;b<e.length;b+=1)p.headerlevel.push(e[b]);p.level=d.level}else p.headerlevel.length>d.headerlevel.length&&(p.level=p.headerlevel.length+1);else if(3===p.type)for(3===d.type?p.level=d.level-1:p.level=d.level,p.level<0&&t.trigger({type:h,pointer:t,err:12}),b=0;b<d.headerlevel.length;b+=1)d.headerlevel[b].level<p.level&&p.headerlevel.push(d.headerlevel[b]);else p.level="Error, not calculated",t.trigger({type:h,pointer:t,err:13});else p.level=1+F.length;for(b=0;b<p.headerlevel.length;b+=1)p.headerlevel[b].level=b+1,p.headerlevel[b].rowlevel=p.headerlevel[b].level;F=[],(void 0===p.level||p.level<0)&&t.trigger({type:h,pointer:p.elem,err:14})}function m(b){z+=1;var c,e,f,g,m,n,w,G,H,I,J=1,K="",L=!1,M=a(b).children(),N={colgroup:[],cell:[],elem:b,rowpos:z};if(a(b).data().tblparser=N,N.uid=x,x+=1,N.groupZero=u,u.allParserObj.push(N),c={cell:[],cgsummary:void 0,type:!1},c.uid=x,x+=1,u.allParserObj.push(c),e=function(a){c.type||(c.type=1),1!==c.type&&(N.colgroup.push(c),c={cell:[],type:1},c.uid=x,x+=1,u.allParserObj.push(c)),c.cell.push(a),L=a.colpos+a.width-1},f=function(a){c.type||(c.type=2),2!==c.type&&(N.colgroup.push(c),c={cell:[],type:2},c.uid=x,x+=1,u.allParserObj.push(c)),c.cell.push(a)},g=function(){for(var a,b;J<=B&&A[J]&&(b=A[J],b.spanHeight&&b.spanHeight>0&&b.colpos===J)&&b.height+b.rowpos-b.spanHeight===z;){for(K=b.elem.nodeName.toLowerCase(),"th"===K?e(b):"td"===K&&f(b),1===b.spanHeight?delete b.spanHeight:b.spanHeight-=1,a=0;a<b.width;a+=1)N.cell.push(b);J+=b.width}},a.each(M,function(){var b,d,i,j=a(this),k=void 0!==j.attr("colspan")?parseInt(j.attr("colspan"),10):1,l=void 0!==j.attr("rowspan")?parseInt(j.attr("rowspan"),10):1;switch(this.nodeName.toLowerCase()){case"th":for(g(),b={rowpos:z,colpos:J,width:k,height:l,data:[],summary:[],elem:this},j.data().tblparser=b,b.groupZero=u,b.uid=x,x+=1,u.allParserObj.push(b),e(b),b.parent=c,b.spanHeight=l-1,i=0;i<k;i+=1)N.cell.push(b),A[J+i]=b;J+=b.width;break;case"td":for(g(),d={rowpos:z,colpos:J,width:k,height:l,elem:this},j.data().tblparser=d,d.groupZero=u,d.uid=x,x+=1,u.allParserObj.push(d),f(d),d.parent=c,d.spanHeight=l-1,i=0;i<k;i+=1)N.cell.push(d),A[J+i]=d;J+=d.width;break;default:t.trigger({type:h,pointer:this,err:15})}K=this.nodeName.toLowerCase()}),g(),0===B&&(B=N.cell.length),B!==N.cell.length&&(N.spannedRow=A,t.trigger({type:h,pointer:N.elem,err:16})),E)return void D.push(N);if(N.colgroup.push(c),"th"===K){if(N.type=1,2===N.colgroup.length&&1===z)if(2===N.colgroup[0].type&&1===N.colgroup[0].cell.length){if(0===a(N.colgroup[0].cell[0].elem).html().length)return void D.push(N);t.trigger({type:h,pointer:t,err:17})}else t.trigger({type:h,pointer:t,err:18});if(1===N.colgroup.length)if(N.colgroup[0].cell.length>1){if(!C)return void D.push(N);t.trigger({type:h,pointer:t,err:18})}else{if(1!==z||N.cell[0].uid===N.cell[N.cell.length-1].uid)return F.push(N),void(C=!0);t.trigger({type:h,pointer:t,err:18})}N.colgroup.length>1&&1!==z&&t.trigger({type:h,pointer:t,err:21})}else{if(N.type=2,C=!0,F.length>0&&N.cell[0].uid===N.cell[N.cell.length-1].uid)return N.type=5,N.cell[0].type=5,N.cell[0].row=N,N.cell[0].describe||(N.cell[0].describe=[]),F[F.length-1].cell[0].descCell=N.cell[0],N.cell[0].describe.push(F[F.length-1].cell[0]),u.desccell||(u.desccell=[]),void u.desccell.push(N.cell[0]);if((F.length>0||!p.type)&&l(),N.type=p.type,N.level=p.level,v[0]&&L&&v[0].end!==L&&v[0].end===L+1&&(L+=1),N.lastHeadingColPos=L,p.lastHeadingColPos||(p.lastHeadingColPos=L),s||(s=L),N.rowgroup=p,p.lastHeadingColPos!==L&&(!r&&p.lastHeadingColPos<L||r&&r===L?(a.each(A,function(){this&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],F=[],o+=1,j(),q=void 0,k(),l(),N.type=p.type):r&&s===L?(a.each(A,function(){this&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],F=[],o+=1,j(),q=void 0,k(),l(!0),N.type=p.type,t.trigger({type:h,pointer:N.elem,err:34})):t.trigger({type:h,pointer:t,err:32})),p.lastHeadingColPos||(p.lastHeadingColPos=L),3!==p.type||r||(r=L),L){for(m=[],n=void 0,w=[],G=0;G<L;G+=1)if("td"===N.cell[G].elem.nodeName.toLowerCase()&&(N.cell[G].type||!N.cell[G-1]||N.cell[G-1].descCell||1!==N.cell[G-1].type||N.cell[G-1].height!==N.cell[G].height||(N.cell[G].type=5,N.cell[G-1].descCell=N.cell[G],N.cell[G].describe||(N.cell[G].describe=[]),N.cell[G].describe.push(N.cell[G-1]),N.desccell||(N.desccell=[]),N.desccell.push(N.cell[G]),u.desccell||(u.desccell=[]),u.desccell.push(N.cell[G]),N.cell[G].scope="row"),N.cell[G].type||w.push(N.cell[G])),"th"===N.cell[G].elem.nodeName.toLowerCase())for(N.cell[G].type=1,N.cell[G].scope="row",n&&n.uid!==N.cell[G].uid&&(n.height>=N.cell[G].height?(n.height===N.cell[G].height&&t.trigger({type:h,pointer:t,err:23}),n.subheader||(n.subheader=[],n.isgroup=!0),n.subheader.push(N.cell[G]),n=N.cell[G],m.push(N.cell[G])):t.trigger({type:h,pointer:t,err:24})),n||(n=N.cell[G],m.push(N.cell[G])),H=0;H<w.length;H+=1)w[H].type||N.cell[G].keycell||w[H].height!==N.cell[G].height||(w[H].type=4,N.cell[G].keycell=w[H],N.keycell||(N.keycell=[]),N.keycell.push(w[H]),u.keycell||(u.keycell=[]),u.keycell.push(w[H]),w[H].describe||(w[H].describe=[]),w[H].describe.push(N.cell[G]));a.each(w,function(){this.type||(t.trigger({type:h,pointer:t,err:25}),N.errorcell||(N.errorcell=[]),N.errorcell.push(this))}),N.header=m}else L=0,0===v.length&&d(void 0,B);for(i(L),N.headerset=p.headerlevel||[],0!==L&&(L=v[0].end),N.datacell||(N.datacell=[]),G=L;G<N.cell.length;G+=1){for(I=!0,H=0===L?0:1;H<v.length;H+=1)v[H].start<=N.cell[G].colpos&&N.cell[G].colpos<=v[H].end&&(3===N.type||3===v[H].type?N.cell[G].type=3:N.cell[G].type=2,3===N.type&&3===v[H].type&&0===a(N.cell[G].elem).text().length&&(N.cell[G].type=6,u.layoutCell||(u.layoutCell=[]),u.layoutCell.push(N.cell[G])),N.cell[G].collevel=v[H].level,N.datacell.push(N.cell[G])),I=!I;if(0===v.length&&(N.cell[G].type=2,N.datacell.push(N.cell[G])),N.cell[G].rowpos<z&&(N.cell[G].addrowheaders||(N.cell[G].addrowheaders=[]),N.header))for(H=0;H<N.header.length;H+=1)(N.header[H].rowpos===z&&0===N.cell[G].addrowheaders.length||N.header[H].rowpos===z&&N.cell[G].addrowheaders[N.cell[G].addrowheaders.length-1].uid!==N.header[H].uid)&&N.cell[G].addrowheaders.push(N.header[H])}for(u.col||(u.col=[]),G=0;G<u.col.length;G+=1)for(H=u.col[G].start-1;H<u.col[G].end;H+=1)u.col[G].cell||(u.col[G].cell=[]),H>u.col[G].start-1&&u.col[G].cell[u.col[G].cell.length-1].uid===N.cell[H].uid||(N.cell[H]?(u.col[G].cell.push(N.cell[H]),N.cell[H].col||(N.cell[H].col=u.col[G])):t.trigger({type:h,pointer:t,err:35}));for(G=0;G<N.cell.length;G+=1)if(N.cell[G].row||(N.cell[G].row=N),N.cell[G].rowlevel=p.level,N.cell[G].rowlevelheader=p.headerlevel,N.cell[G].rowgroup=p,G>0&&N.cell[G-1].uid===N.cell[G].uid&&1!==N.cell[G].type&&5!==N.cell[G].type&&N.cell[G].rowpos===z&&N.cell[G].colpos<=G&&(N.cell[G].addcolheaders||(N.cell[G].addcolheaders=[]),u.col[G]&&u.col[G].header))for(H=0;H<u.col[G].header.length;H+=1)u.col[G].header[H].colpos===G+1&&N.cell[G].addcolheaders.push(u.col[G].header[H])}y+=1,u.row||(u.row=[]),u.row.push(N),p.row.push(N),delete N.colgroup}function n(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a.theadRowStack.length;for(p=0;p<y;p+=1)for(l=a.theadRowStack[p],q=0,e=l.cell.length;q<e;q+=1)if(j=l.cell[q],!(1!==j.type&&7!==j.type||q>0&&j.uid===l.cell[q-1].uid||p>0&&j.uid===a.theadRowStack[p-1].cell[q].uid)){if(j.header=j.header||[],j.headers=j.headers||[],j.child=j.child||[],j.childs=j.childs||[],p>0){for(r=0,d=a.theadRowStack[p-1].cell[q].header.length;r<d;r+=1)j.headers.push(a.theadRowStack[p-1].cell[q].header[r]),a.theadRowStack[p-1].cell[q].header[r].childs.push(j);j.headers.push(a.theadRowStack[p-1].cell[q]),j.header.push(a.theadRowStack[p-1].cell[q]),a.theadRowStack[p-1].cell[q].child.push(j)}j.descCell&&(j.descCell.header=j,j.descCell.headers=j)}for(p=0,x=a.row.length;p<x;p+=1){if(l=a.row[p],w=[],v=[],m=[],t=[],g=[],l.headerset&&!l.idsheaderset){for(q=0;q<l.headerset.length;q+=1)w=w.concat(l.headerset[q]);l.idsheaderset=w}if(l.header)for(q=0;q<l.header.length;q+=1)v=v.concat(l.header[q]);for(v=l.idsheaderset.concat(v),q=0;q<l.cell.length;q+=1)if(0===q||q>0&&l.cell[q].uid!==l.cell[q-1].uid){if(j=l.cell[q],g=[],j.header=j.header||[],j.headers=j.headers||[],j.col&&!j.col.dataheader){if(k=j.col,h=[],i=[],k.headerLevel)for(s=0,o=k.headerLevel.length;s<o;s+=1)i=i.concat(k.headerLevel[s]);if(k.header)for(s=0,n=k.header.length;s<n;s+=1)h=h.concat(k.header[s]);k.dataheader||(k.dataheader=[]),k.dataheader=k.dataheader.concat(i),k.dataheader=k.dataheader.concat(h)}if(j.col&&j.col.dataheader&&(g=j.col.dataheader),1===j.type){for(j.child=j.child||[],j.childs=j.childs||[],s=0,u=t.length;s<u;s+=1)j.colpos===t[s].colpos+t[s].width&&(f=t[s].child.length,(0===f||f>0&&t[s].child[f-1].uid!==j.uid)&&t[s].child.push(j)),t[s].childs.push(j);for(s=0;s<l.idsheaderset.length;s+=1)l.idsheaderset[s].childs||(l.idsheaderset[s].childs=[]),l.idsheaderset[s].childs.push(j);j.header=j.header.concat(t),j.headers=j.headers.concat(g).concat(l.idsheaderset).concat(t),t=t.concat(j)}if(2===j.type||3===j.type){if(m=v,j.addcolheaders)for(s=0,b=j.addcolheaders.length;s<b;s+=1)g=g.concat(j.addcolheaders[s]);if(j.addrowheaders)for(s=0,c=j.addrowheaders.length;s<c;s+=1)m=m.concat(j.addrowheaders[s]);j.headers=j.headers.concat(g).concat(m),j.header=j.headers}}}}if(b.namespace===e){var o,p,q,r,s,t=a(b.target),u={allParserObj:[],nbDescriptionRow:0},v=[],w=[],x=0,y=0,z=0,A=[],B=0,C=!1,D=[],E=!1,F=[],G=[],H=!1,I=t.has("tfoot"),J=!1,K=!1;if("table"!==t.get(0).nodeName.toLowerCase())return void t.trigger({type:g,pointer:t,err:1});if(t.tblparser)return void t.trigger({type:g,pointer:t,err:2});K=t.hasClass("hassum"),t.data().tblparser=u,u.colgroup=v,u.rowgroup||(u.rowgroup=[]),u.lstrowgroup||(u.lstrowgroup=G),u.elem=t,u.uid=x,x+=1,u.colcaption={},u.colcaption.uid=x,x+=1,u.colcaption.elem=void 0,u.colcaption.type=7,u.colcaption.dataset=[],u.colcaption.summaryset=[],u.rowcaption={},u.rowcaption.uid=x,x+=1,u.rowcaption.elem=void 0,u.rowcaption.type=7,u.rowcaption.dataset=[],u.rowcaption.summaryset=[],u.col=[],I&&a("tfoot",t).appendTo(a("tbody:last",t).parent()),t.children().each(function(){var b=a(this),e=this.nodeName.toLowerCase();"caption"===e?c(this):"colgroup"===e?d(this):"thead"===e?(q=this,(0!==D.length||u.row&&u.row.length>0)&&t.trigger({type:h,pointer:this,err:26}),a(this).data("tblparser",u),E=!0,a(this).children().each(function(){"tr"!==this.nodeName.toLowerCase()&&t.trigger({type:h,pointer:this,err:27}),m(this)}),E=!1):"tbody"===e||"tfoot"===e?("tfoot"===e&&(J=!0),q=this,k(),b.data().tblparser=p,b.children().each(function(){return"tr"!==this.nodeName.toLowerCase()?void t.trigger({type:h,pointer:this,err:27}):void m(this)}),j(),a.each(A,function(){this&&this.spanHeigh&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],F=[],o+=1):"tr"===e?m(this):t.trigger({type:g,pointer:this,err:30})}),u.theadRowStack=D,delete u.colgroupFrame,u.colgrouplevel=u.colgrp,delete u.colgrp,n(u),t.trigger("parsecomplete"+f)}};i.on("passiveparse"+f,j)}(jQuery,window,document,wb);
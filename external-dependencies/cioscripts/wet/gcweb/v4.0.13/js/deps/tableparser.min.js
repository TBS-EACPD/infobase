/**
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * @title Table Parser Plugin
 * @overview Digest complex tabular data and validate complex table
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * @author @duboisp
 *
 */
!function(a,b,c,d){"use strict";var e="wb-tableparser",f="."+e,g="error"+f,h="warning"+f,i=d.doc,j=function(b){function c(b){u.colcaption.elem=b,u.rowcaption.elem=b;var c,d,e={colcaption:u.colcaption,rowcaption:u.rowcaption,elem:b},f=[];0!==a(b).children().length?(a(b).contents().filter(function(){if(c||3!==this.nodeType){if(!c&&1===this.nodeType)return void(c=this)}else{if(c=a(this).text().replace(/^\s+|\s+$/g,""),0!==c.length)return c=this,void(d=!0);c=!1}}),a(b).children().filter(function(){d?f.push(this):d=!0})):c=b,f.length>1?e.description=a(f):1===f.length&&(e.description=f[0]),c&&(e.caption=c),e.groupZero=u,e.type=1,u.groupheadercell=e,a(b).data().tblparser=e}function d(b,c){var d,e,f,h,i={elem:{},start:0,end:0,col:[],groupZero:u},j=0;if(i.elem=b,b&&(a(b).data().tblparser=i),i.uid=x,x+=1,u.allParserObj.push(i),0!==v.length?i.start=v[v.length-1].end+1:i.start=1,b&&a("col",b).each(function(){var b=a(this),c=void 0!==b.attr("span")?parseInt(b.attr("span"),10):1,d={elem:{},start:0,end:0,groupZero:u};d.uid=x,x+=1,u.allParserObj.push(d),d.start=i.start+j,d.end=i.start+j+c-1,d.elem=this,d.groupZero=u,b.data().tblparser=d,i.col.push(d),w.push(d),j+=c}),0===i.col.length){if(b)d=void 0!==a(b).attr("span")?parseInt(a(b).attr("span"),10):1;else{if("number"!=typeof c)return void t.trigger({type:g,pointer:t,err:31});d=c}for(j+=d,e=i.start,f=i.start+j;e!==f;e+=1)h={start:0,end:0,groupZero:u,elem:void 0},h.uid=x,x+=1,u.allParserObj.push(h),h.start=e,h.end=e,i.col.push(h),w.push(h)}i.end=i.start+j-1,v.push(i)}function i(b){var c,d,e,f,i,j,k,l,m,n,o,p,q,r,s,y,z,A,C,D,E,G,H,I=[];if(!u.colgrouphead&&!J){for(J=!0,b&&b>0?v.length>0&&(1!==v[0].start||v[0].end!==b&&v[0].end!==b+1)&&(t.trigger({type:h,pointer:t,err:3}),v=[]):b=0,c=0,d=F.length;c!==d;c+=1)for(H=F[c],H.type||(H.type=1),e=0,f=H.cell.length;f>e&&(E=F[c].cell[e],E.scope="col",!(0===c&&0===e&&0===E.elem.innerHTML.length&&(E.type=6,u.layoutCell||(u.layoutCell=[]),u.layoutCell.push(E),e=E.width-1,e>=f)))&&(C=F[c+1],D=C?C.cell[e]:"",E.descCell||"th"!==E.elem.nodeName.toLowerCase()||E.type||!C||C.uid===E.uid||!D||D.type||"td"!==D.elem.nodeName.toLowerCase()||D.width!==E.width||1!==D.height||(C.type=5,D.type=5,D.row=H,E.descCell=D,u.desccell||(u.desccell=[]),u.desccell.push(D),e=E.width-1,!(e>=f)));e+=1)E.type||(E.type=1);for(c=0,d=F.length;c!==d;c+=1)if(H=F[c],5===H.type){for(e=0,f=H.cell.length;e!==f;e+=1)E=H.cell[e],5!==E.type&&6!==E.type&&1===E.height&&t.trigger({type:h,pointer:E.elem,err:4}),E.uid===F[c-1].cell[e].uid&&(E.height-=1);u.nbDescriptionRow+=1}else I.push(H);if(u.colgrp=[],b>0&&(1===v.length||0===v.length)){for(m={},n=[],o={start:b+1,end:B,col:[],groupZero:u,elem:void 0,type:2},o.uid=x,x+=1,u.allParserObj.push(o),o.start>o.end&&t.trigger({type:h,pointer:t,err:5}),m=o,c=o.start,d=o.end;d>=c;c+=1)p={start:0,end:0,groupZero:u,elem:void 0},p.uid=x,x+=1,u.allParserObj.push(p),u.col||(u.col=[]),n.push(p),p.start=c,p.end=c,p.groupstruct=o,o.col.push(p),w.push(p);if(u.colgrp[1]=[],u.colgrp[1].push(u.colcaption),b>0){for(q={start:1,elem:void 0,end:b,col:[],groupZero:u,type:1},q.uid=x,x+=1,u.allParserObj.push(q),v.push(q),v.push(m),u.colcaption.dataset=m.col,c=q.start,d=q.end;d>=c;c+=1)p={start:0,end:0,groupZero:u,elem:void 0},p.uid=x,x+=1,u.allParserObj.push(p),u.col||(u.col=[]),u.col.push(p),p.start=c,p.end=c,p.groupstruct=q,q.col.push(p),w.push(p);for(c=0,d=n.length;c!==d;c+=1)u.col.push(n[c])}for(0===v.length&&(v.push(m),u.colcaption.dataset=m.col),c=0,d=u.col.length;c!==d;c+=1)for(G=u.col[c],G.header=[],e=0,f=I.length;e!==f;e+=1)for(i=G.start,j=G.end;j>=i;i+=1)E=I[e].cell[i-1],(0===e||e>0&&E.uid!==I[e-1].cell[i-1].uid)&&1===E.type&&G.header.push(E)}else r=[],s=0===b?1:v[0].end+1,o={start:s,end:void 0,col:[],row:[],type:2},y=[],z=0,A=!1,a.each(v,function(){var m,n,o,p,q=this;if(z+=1,A||u.colgrp[0])return void t.trigger({type:g,pointer:q,err:6});if(a.each(q.col,function(){var a=this;u.col||(u.col=[]),u.col.push(a),a.type=1,a.groupstruct=q}),q.start<s)for(b!==q.end&&t.trigger({type:h,pointer:q,err:7}),c=0,d=q.col.length;c!==d;c+=1)for(G=q.col[c],G.header=[],e=0,f=I.length;e!==f;e+=1)for(i=G.start,j=G.end;j>=i;i+=1)(0===e||e>0&&I[e].cell[i-1].uid!==I[e-1].cell[i-1].uid)&&1===I[e].cell[i-1].type&&G.header.push(I[e].cell[i-1]);else{for(m=void 0,c=0,d=I.length;c!==d;c+=1){if(l=I[c].cell[q.end-1],!l&&q.end>I[c].cell.length){t.trigger({type:h,pointer:t,err:3});break}l.colpos+l.width-1===q.end&&l.colpos>=q.start&&(!m||m>c+1)&&(m=c+1)}for(m||(m=1),c=m-1,d=I.length;c!==d;c+=1)for(k=I[c],e=q.start-1,f=q.end;e!==f;e+=1)if(l=k.cell[e],l.colpos<q.start||l.colpos+l.width-1>q.end)return void t.trigger({type:g,pointer:t,err:9});for(c=y.length,d=m-1;c!==d;c+=1){if(l=I[c].cell[q.start-1],l.uid!==I[c].cell[q.end-1].uid||l.colpos>q.start||l.colpos+l.width-1<q.end)return void t.trigger({type:g,pointer:t,err:10});n=l,n.level=c+1,n.start=n.colpos,n.end=n.colpos+n.width-1,n.type=7,y.push(n),u.virtualColgroup||(u.virtualColgroup=[]),u.virtualColgroup.push(n),u.colgrp[c+1]||(u.colgrp[c+1]=[]),u.colgrp[c+1].push(n)}for(q.header=[],c=m-(m>=2?2:1),d=I.length;c!==d;c+=1)for(e=q.start;e<=q.end;e+=1)I[c].cell[e-1].rowpos===c+1&&(q.header.push(I[c].cell[e-1]),I[c].cell[e-1].colgroup=q),e+=I[c].cell[e-1].width-1;for(o=[],c=0;c<y.length-1;c+=1)o.push(y[c]);for(q.parentHeader=o,y.length<m&&(q.type||(q.type=2,q.level=m),y.push(q),u.colgrp[m]||(u.colgrp[m]=[]),u.colgrp[m].push(q)),p=!1,c=y.length-1;-1!==c;c-=1)y[c].end<=q.end&&(y[c].level<m&&F.length>0&&(q.type=3),3!==q.type||p||(y[y.length-1].summary=q,p=!0),y.pop());if(M||(q.type=2),1===m&&u.colgrp[1]&&u.colgrp[1].length>1&&F.length>0){for(c=0;c<u.colgrp[1].length;c+=1)if(3===u.colgrp[1][c].type){q.level=0,u.colgrp[0]||(u.colgrp[0]=[]),u.colgrp[0].push(q),u.colgrp[1].pop(),A=!0;break}M&&(q.type=3)}1===q.level&&2===q.type&&(q.repheader="caption"),u.col||(u.col=[]),a.each(q.col,function(){var a,b,d,f,g=this,h=g.start,i=g.end;for(g.type=q.type,g.level=q.level,g.groupstruct=q,g.header=[],e=m-1;e<I.length;e+=1)for(c=q.start-1;c<q.end;c+=1)d=I[e].cell[c],a=d.colpos,b=d.width-1,(a>=h&&i>=a||h>=a&&a+b>=i||h>=a+b&&a+b>=i)&&(f=g.header.length,(0===f||f>0&&g.header[f-1].uid!==d.uid)&&(g.header.push(d),I[e].cell[c].level=q.level))})}}),u.virtualColgroup||(u.virtualColgroup=[]),a.each(u.virtualColgroup,function(){var a=this;for(c=a.start-1;c<a.end;c+=1)u.col[c].headerLevel||(u.col[c].headerLevel=[]),u.col[c].headerLevel.push(a)});v.length>0&&b>0&&(u.colgrouphead=v[0],u.colgrouphead.type=1)}}function j(){p.type&&p.level||l(),I.push(p),p={}}function k(){p&&p.type&&j(),p={},p.elem=q,p.row=[],p.headerlevel=[],p.groupZero=u,p.uid=x,x+=1}function l(a){var b,c,d,e;if(L)return p.type=3,p.level=0,void(H=[]);if(0!==H.length)for(p&&p.type&&p.row.length>0&&(q={},k()),p.type=2,p.row=H,b=0,c=H.length;b!==c;b+=1)H[b].cell[0].type=7,H[b].cell[0].scope="row",H[b].cell[0].row=H[b],p.headerlevel.push(H[b].cell[0]);if(0===H.length&&0===I.length&&(p.type&&1===p.type&&(q={},k()),p.type=2,p.level=1),0===H.length&&I.length>0&&!p.type&&v[0]&&(1===v[0].type||!v[0].type&&v.length>0)&&!a?p.type=3:p.type=2,3!==p.type||M||(p.type=2,p.level=I[I.length-1].level),!p.level)if(I.length>0)if(d=I[I.length-1],2===p.type)if(p.headerlevel.length===d.headerlevel.length)p.level=d.level;else if(p.headerlevel.length<d.headerlevel.length){for(e=p.headerlevel,p.headerlevel=[],b=0;b<d.headerlevel.length-p.headerlevel.length;b+=1)p.headerlevel.push(d.headerlevel[b]);for(b=0;b<e.length;b+=1)p.headerlevel.push(e[b]);p.level=d.level}else p.headerlevel.length>d.headerlevel.length&&(p.level=p.headerlevel.length+1);else if(3===p.type)for(3===d.type?p.level=d.level-1:p.level=d.level,p.level<0&&t.trigger({type:h,pointer:t,err:12}),b=0;b<d.headerlevel.length;b+=1)d.headerlevel[b].level<p.level&&p.headerlevel.push(d.headerlevel[b]);else p.level="Error, not calculated",t.trigger({type:h,pointer:t,err:13});else p.level=1+H.length;for(b=0;b<p.headerlevel.length;b+=1)p.headerlevel[b].level=b+1,p.headerlevel[b].rowlevel=p.headerlevel[b].level;H=[],(void 0===p.level||p.level<0)&&t.trigger({type:h,pointer:p.elem,err:14})}function m(b){z+=1;var c,e,f,g,m,n,w,I,J,K,L,M,N=1,O="",P=!1,Q=a(b).children(),R={colgroup:[],cell:[],elem:b,rowpos:z};if(a(b).data().tblparser=R,R.uid=x,x+=1,R.groupZero=u,u.allParserObj.push(R),c={cell:[],cgsummary:void 0,type:!1},c.uid=x,x+=1,u.allParserObj.push(c),e=function(a){c.type||(c.type=1),1!==c.type&&(R.colgroup.push(c),c={cell:[],type:1},c.uid=x,x+=1,u.allParserObj.push(c)),c.cell.push(a),P=a.colpos+a.width-1},f=function(a){c.type||(c.type=2),2!==c.type&&(R.colgroup.push(c),c={cell:[],type:2},c.uid=x,x+=1,u.allParserObj.push(c)),c.cell.push(a)},g=function(){for(var a,b;B>=N&&A[N]&&(b=A[N],b.spanHeight&&b.spanHeight>0&&b.colpos===N)&&b.height+b.rowpos-b.spanHeight===z;){for(O=b.elem.nodeName.toLowerCase(),"th"===O?e(b):"td"===O&&f(b),1===b.spanHeight?delete b.spanHeight:b.spanHeight-=1,a=0;a<b.width;a+=1)R.cell.push(b);N+=b.width}},a.each(Q,function(){var b,d,i,j=a(this),k=void 0!==j.attr("colspan")?parseInt(j.attr("colspan"),10):1,l=void 0!==j.attr("rowspan")?parseInt(j.attr("rowspan"),10):1;switch(this.nodeName.toLowerCase()){case"th":for(g(),b={rowpos:z,colpos:N,width:k,height:l,data:[],summary:[],elem:this},j.data().tblparser=b,b.groupZero=u,b.uid=x,x+=1,u.allParserObj.push(b),e(b),b.parent=c,b.spanHeight=l-1,i=0;k>i;i+=1)R.cell.push(b),A[N+i]=b;N+=b.width;break;case"td":for(g(),d={rowpos:z,colpos:N,width:k,height:l,elem:this},j.data().tblparser=d,d.groupZero=u,d.uid=x,x+=1,u.allParserObj.push(d),f(d),d.parent=c,d.spanHeight=l-1,i=0;k>i;i+=1)R.cell.push(d),A[N+i]=d;N+=d.width;break;default:t.trigger({type:h,pointer:this,err:15})}O=this.nodeName.toLowerCase()}),g(),0===B&&(B=R.cell.length),B!==R.cell.length&&(R.spannedRow=A,t.trigger({type:h,pointer:R.elem,err:16})),G)return void F.push(R);if(R.colgroup.push(c),"th"===O){if(R.type=1,2===R.colgroup.length&&1===z)if(2===R.colgroup[0].type&&1===R.colgroup[0].cell.length){if(0===a(R.colgroup[0].cell[0].elem).html().length)return void F.push(R);t.trigger({type:h,pointer:t,err:17})}else t.trigger({type:h,pointer:t,err:18});if(1===R.colgroup.length)if(R.colgroup[0].cell.length>1){if(!C)return void F.push(R);t.trigger({type:h,pointer:t,err:18})}else{if(1!==z||R.cell[0].uid===R.cell[R.cell.length-1].uid)return H.push(R),void(C=!0);t.trigger({type:h,pointer:t,err:18})}R.colgroup.length>1&&1!==z&&t.trigger({type:h,pointer:t,err:21})}else{if(R.type=2,C=!0,H.length>0&&R.cell[0].uid===R.cell[R.cell.length-1].uid)return R.type=5,R.cell[0].type=5,R.cell[0].row=R,R.cell[0].describe||(R.cell[0].describe=[]),H[H.length-1].cell[0].descCell=R.cell[0],R.cell[0].describe.push(H[H.length-1].cell[0]),u.desccell||(u.desccell=[]),void u.desccell.push(R.cell[0]);if((H.length>0||!p.type)&&l(),R.type=p.type,R.level=p.level,v[0]&&P&&v[0].end!==P&&v[0].end===P+1&&(P+=1),R.lastHeadingColPos=P,p.lastHeadingColPos||(p.lastHeadingColPos=P),s||(s=P),R.rowgroup=p,p.lastHeadingColPos!==P&&(!r&&p.lastHeadingColPos<P||r&&r===P?(a.each(A,function(){this&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],H=[],E=[],o+=1,j(),q=void 0,k(),l(),R.type=p.type):r&&s===P?(a.each(A,function(){this&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],H=[],E=[],o+=1,j(),q=void 0,k(),l(!0),R.type=p.type,t.trigger({type:h,pointer:R.elem,err:34})):t.trigger({type:h,pointer:t,err:32})),p.lastHeadingColPos||(p.lastHeadingColPos=P),3!==p.type||r||(r=P),P){for(m=[],n=void 0,w=[],I=0;P>I;I+=1)if("td"===R.cell[I].elem.nodeName.toLowerCase()&&(R.cell[I].type||!R.cell[I-1]||R.cell[I-1].descCell||1!==R.cell[I-1].type||R.cell[I-1].height!==R.cell[I].height||(R.cell[I].type=5,R.cell[I-1].descCell=R.cell[I],R.cell[I].describe||(R.cell[I].describe=[]),R.cell[I].describe.push(R.cell[I-1]),R.desccell||(R.desccell=[]),R.desccell.push(R.cell[I]),u.desccell||(u.desccell=[]),u.desccell.push(R.cell[I]),R.cell[I].scope="row"),R.cell[I].type||w.push(R.cell[I])),"th"===R.cell[I].elem.nodeName.toLowerCase())for(R.cell[I].type=1,R.cell[I].scope="row",n&&n.uid!==R.cell[I].uid&&(n.height>=R.cell[I].height?(n.height===R.cell[I].height&&t.trigger({type:h,pointer:t,err:23}),n.subheader||(n.subheader=[],n.isgroup=!0),n.subheader.push(R.cell[I]),n=R.cell[I],m.push(R.cell[I])):t.trigger({type:h,pointer:t,err:24})),n||(n=R.cell[I],m.push(R.cell[I])),J=0;J<w.length;J+=1)w[J].type||R.cell[I].keycell||w[J].height!==R.cell[I].height||(w[J].type=4,R.cell[I].keycell=w[J],R.keycell||(R.keycell=[]),R.keycell.push(w[J]),u.keycell||(u.keycell=[]),u.keycell.push(w[J]),w[J].describe||(w[J].describe=[]),w[J].describe.push(R.cell[I]));a.each(w,function(){this.type||(t.trigger({type:h,pointer:t,err:25}),R.errorcell||(R.errorcell=[]),R.errorcell.push(this))}),R.header=m}else P=0,0===v.length&&d(void 0,B);for(i(P),R.headerset=p.headerlevel||[],0!==P&&(P=v[0].end),R.datacell||(R.datacell=[]),I=P;I<R.cell.length;I+=1){for(K=!0,L=!0,J=0===P?0:1;J<v.length;J+=1)v[J].start<=R.cell[I].colpos&&R.cell[I].colpos<=v[J].end&&(3===R.type||3===v[J].type?R.cell[I].type=3:R.cell[I].type=2,3===R.type&&3===v[J].type&&0===a(R.cell[I].elem).text().length&&(R.cell[I].type=6,u.layoutCell||(u.layoutCell=[]),u.layoutCell.push(R.cell[I])),R.cell[I].collevel=v[J].level,R.datacell.push(R.cell[I])),L=!L;if(0===v.length&&(R.cell[I].type=2,R.datacell.push(R.cell[I])),R.cell[I].rowpos<z&&(R.cell[I].addrowheaders||(R.cell[I].addrowheaders=[]),R.header))for(J=0;J<R.header.length;J+=1)(R.header[J].rowpos===z&&0===R.cell[I].addrowheaders.length||R.header[J].rowpos===z&&R.cell[I].addrowheaders[R.cell[I].addrowheaders.length-1].uid!==R.header[J].uid)&&R.cell[I].addrowheaders.push(R.header[J])}for(M=0===v.length,0===v.length&&(M=!1),u.col||(u.col=[]),I=0;I<u.col.length;I+=1)for(J=u.col[I].start-1;J<u.col[I].end;J+=1)u.col[I].cell||(u.col[I].cell=[]),J>u.col[I].start-1&&u.col[I].cell[u.col[I].cell.length-1].uid===R.cell[J].uid||(R.cell[J]?(u.col[I].cell.push(R.cell[J]),R.cell[J].col||(R.cell[J].col=u.col[I])):t.trigger({type:h,pointer:t,err:35}));for(I=0;I<R.cell.length;I+=1)if(R.cell[I].row||(R.cell[I].row=R),R.cell[I].rowlevel=p.level,R.cell[I].rowlevelheader=p.headerlevel,R.cell[I].rowgroup=p,I>0&&R.cell[I-1].uid===R.cell[I].uid&&1!==R.cell[I].type&&5!==R.cell[I].type&&R.cell[I].rowpos===z&&R.cell[I].colpos<=I&&(R.cell[I].addcolheaders||(R.cell[I].addcolheaders=[]),u.col[I]&&u.col[I].header))for(J=0;J<u.col[I].header.length;J+=1)u.col[I].header[J].colpos===I+1&&R.cell[I].addcolheaders.push(u.col[I].header[J]);D=!0}y+=1,u.row||(u.row=[]),u.row.push(R),p.row.push(R),delete R.colgroup}function n(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a.theadRowStack.length;for(p=0;y>p;p+=1)for(l=a.theadRowStack[p],q=0,e=l.cell.length;e>q;q+=1)if(j=l.cell[q],!(1!==j.type&&7!==j.type||q>0&&j.uid===l.cell[q-1].uid||p>0&&j.uid===a.theadRowStack[p-1].cell[q].uid)){if(j.header=j.header||[],j.headers=j.headers||[],j.child=j.child||[],j.childs=j.childs||[],p>0){for(r=0,d=a.theadRowStack[p-1].cell[q].header.length;d>r;r+=1)j.headers.push(a.theadRowStack[p-1].cell[q].header[r]),a.theadRowStack[p-1].cell[q].header[r].childs.push(j);j.headers.push(a.theadRowStack[p-1].cell[q]),j.header.push(a.theadRowStack[p-1].cell[q]),a.theadRowStack[p-1].cell[q].child.push(j)}j.descCell&&(j.descCell.header=j,j.descCell.headers=j)}for(p=0,x=a.row.length;x>p;p+=1){if(l=a.row[p],w=[],v=[],m=[],t=[],g=[],l.headerset&&!l.idsheaderset){for(q=0;q<l.headerset.length;q+=1)w=w.concat(l.headerset[q]);l.idsheaderset=w}if(l.header)for(q=0;q<l.header.length;q+=1)v=v.concat(l.header[q]);for(v=l.idsheaderset.concat(v),q=0;q<l.cell.length;q+=1)if(0===q||q>0&&l.cell[q].uid!==l.cell[q-1].uid){if(j=l.cell[q],g=[],j.header=j.header||[],j.headers=j.headers||[],j.col&&!j.col.dataheader){if(k=j.col,h=[],i=[],k.headerLevel)for(s=0,o=k.headerLevel.length;o>s;s+=1)i=i.concat(k.headerLevel[s]);if(k.header)for(s=0,n=k.header.length;n>s;s+=1)h=h.concat(k.header[s]);k.dataheader||(k.dataheader=[]),k.dataheader=k.dataheader.concat(i),k.dataheader=k.dataheader.concat(h)}if(j.col&&j.col.dataheader&&(g=j.col.dataheader),1===j.type){for(j.child=j.child||[],j.childs=j.childs||[],s=0,u=t.length;u>s;s+=1)j.colpos===t[s].colpos+t[s].width&&(f=t[s].child.length,(0===f||f>0&&t[s].child[f-1].uid!==j.uid)&&t[s].child.push(j)),t[s].childs.push(j);for(s=0;s<l.idsheaderset.length;s+=1)l.idsheaderset[s].childs||(l.idsheaderset[s].childs=[]),l.idsheaderset[s].childs.push(j);j.header=j.header.concat(t),j.headers=j.headers.concat(g).concat(l.idsheaderset).concat(t),t=t.concat(j)}if(2===j.type||3===j.type){if(m=v,j.addcolheaders)for(s=0,b=j.addcolheaders.length;b>s;s+=1)g=g.concat(j.addcolheaders[s]);if(j.addrowheaders)for(s=0,c=j.addrowheaders.length;c>s;s+=1)m=m.concat(j.addrowheaders[s]);j.headers=j.headers.concat(g).concat(m),j.header=j.headers}}}}if(b.namespace===e){var o,p,q,r,s,t=a(b.target),u={allParserObj:[],nbDescriptionRow:0},v=[],w=[],x=0,y=0,z=0,A=[],B=0,C=!1,D=!1,E=[],F=[],G=!1,H=[],I=[],J=!1,K=t.has("tfoot"),L=!1,M=!1;if("table"!==t.get(0).nodeName.toLowerCase())return void t.trigger({type:g,pointer:t,err:1});if(t.tblparser)return void t.trigger({type:g,pointer:t,err:2});M=t.hasClass("hassum"),t.data().tblparser=u,u.colgroup=v,u.rowgroup||(u.rowgroup=[]),u.lstrowgroup||(u.lstrowgroup=I),u.elem=t,u.uid=x,x+=1,u.colcaption={},u.colcaption.uid=x,x+=1,u.colcaption.elem=void 0,u.colcaption.type=7,u.colcaption.dataset=[],u.colcaption.summaryset=[],u.rowcaption={},u.rowcaption.uid=x,x+=1,u.rowcaption.elem=void 0,u.rowcaption.type=7,u.rowcaption.dataset=[],u.rowcaption.summaryset=[],u.col=[],K&&a("tfoot",t).appendTo(a("tbody:last",t).parent()),t.children().each(function(){var b=a(this),e=this.nodeName.toLowerCase();"caption"===e?c(this):"colgroup"===e?d(this):"thead"===e?(q=this,(0!==F.length||u.row&&u.row.length>0)&&t.trigger({type:h,pointer:this,err:26}),a(this).data("tblparser",u),G=!0,a(this).children().each(function(){"tr"!==this.nodeName.toLowerCase()&&t.trigger({type:h,pointer:this,err:27}),m(this)}),G=!1):"tbody"===e||"tfoot"===e?("tfoot"===e&&(L=!0),q=this,k(),b.data().tblparser=p,b.children().each(function(){return"tr"!==this.nodeName.toLowerCase()?void t.trigger({type:h,pointer:this,err:27}):void m(this)}),j(),a.each(A,function(){this&&this.spanHeigh&&this.spanHeight>0&&t.trigger({type:h,pointer:this,err:29})}),A=[],H=[],E=[],o+=1):"tr"===e?m(this):t.trigger({type:g,pointer:this,err:30})}),u.theadRowStack=F,delete u.colgroupFrame,u.colgrouplevel=u.colgrp,delete u.colgrp,n(u),t.trigger("parsecomplete"+f)}};i.on("passiveparse"+f,j)}(jQuery,window,document,wb);